└── jpeg <- { ... } :=
    ├── soi <- map _.1 (...) := 216
    ├── frame <- { ... } :=
    │   ├── initial-segment <- _ |...| _ :=
    │   │   └── app1 <- { ... } :=
    │   │       ├── marker <- map _.1 (...) := 225
    │   │       ├── length <- u16be := 5426
    │   │       └── data <- slice (length - 2) { ... } :=
    │   │           ├── identifier <- map _.string { ... } :=
    │   │           │   ├── 0 <- [!= 0] := 69
    │   │           │   ├── 1 <- [!= 0] := 120
    │   │           │   ├── 2 <- [!= 0] := 105
    │   │           │   └── 3 <- [!= 0] := 102
    │   │           └── data <- match identifier { ... } :=
    │   │               ├── padding <- [= 0] := 0
    │   │               └── exif <- { ... } :=
    │   │                   ├── byte-order <- _ |...| _ := { be := () }
    │   │                   ├── magic <- match byte-order { ... } := 42
    │   │                   ├── offset <- match byte-order { ... } := 8
    │   │                   └── ifd <- with-relative-offset (offset - 8) (match byte-order { ... }) :=
    │   │                       ├── num-fields <- u16be := 7
    │   │                       ├── fields <- repeat-count num-fields { ... } :=
    │   │                       │   ├── 0 <- { ... } :=
    │   │                       │   │   ├── tag <- u16be := 274
    │   │                       │   │   ├── type <- u16be := 3
    │   │                       │   │   ├── length <- u32be := 1
    │   │                       │   │   └── offset-or-data <- u32be := 65536
    │   │                       │   ├── 1 <- { ... } :=
    │   │                       │   │   ├── tag <- u16be := 282
    │   │                       │   │   ├── type <- u16be := 5
    │   │                       │   │   ├── length <- u32be := 1
    │   │                       │   │   └── offset-or-data <- u32be := 98
    │   │                       │   ├── 2 <- { ... } :=
    │   │                       │   │   ├── tag <- u16be := 283
    │   │                       │   │   ├── type <- u16be := 5
    │   │                       │   │   ├── length <- u32be := 1
    │   │                       │   │   └── offset-or-data <- u32be := 106
    │   │                       │   ├── 3 <- { ... } :=
    │   │                       │   │   ├── tag <- u16be := 296
    │   │                       │   │   ├── type <- u16be := 3
    │   │                       │   │   ├── length <- u32be := 1
    │   │                       │   │   └── offset-or-data <- u32be := 131072
    │   │                       │   ├── 4 <- { ... } :=
    │   │                       │   │   ├── tag <- u16be := 305
    │   │                       │   │   ├── type <- u16be := 2
    │   │                       │   │   ├── length <- u32be := 30
    │   │                       │   │   └── offset-or-data <- u32be := 114
    │   │                       │   ├── 5 <- { ... } :=
    │   │                       │   │   ├── tag <- u16be := 306
    │   │                       │   │   ├── type <- u16be := 2
    │   │                       │   │   ├── length <- u32be := 20
    │   │                       │   │   └── offset-or-data <- u32be := 144
    │   │                       │   └── 6 <- { ... } :=
    │   │                       │       ├── tag <- u16be := 34665
    │   │                       │       ├── type <- u16be := 4
    │   │                       │       ├── length <- u32be := 1
    │   │                       │       └── offset-or-data <- u32be := 164
    │   │                       ├── next-ifd-offset <- u32be := 208
    │   │                       └── next-ifd <- repeat u8 :=
    │   │                           ├── 0 <- u8 := 0
    │   │                           ├── 1 <- u8 := 45
    │   │                           ├── 2 <- u8 := 198
    │   │                           ├── 3 <- u8 := 192
    │   │                           ├── 4 <- u8 := 0
    │   │                           ├── 5 <- u8 := 0
    │   │                           ├── 6 <- u8 := 39
    │   │                           ├── 7 <- u8 := 16
    │   │                           ├── 8 <- u8 := 0
    │   │                           ├── 9 <- u8 := 45
    │   │                           ~
    │   │                           └── 5319 <- u8 := 217
    │   ├── segments <- repeat (_ |...| _) :=
    │   │   ├── 0 <- _ |...| _ :=
    │   │   │   └── app13 <- { ... } :=
    │   │   │       ├── marker <- map _.1 (...) := 237
    │   │   │       ├── length <- u16be := 10600
    │   │   │       └── data <- slice (length - 2) (repeat u8) :=
    │   │   │           ├── 0 <- u8 := 80
    │   │   │           ├── 1 <- u8 := 104
    │   │   │           ├── 2 <- u8 := 111
    │   │   │           ├── 3 <- u8 := 116
    │   │   │           ├── 4 <- u8 := 111
    │   │   │           ├── 5 <- u8 := 115
    │   │   │           ├── 6 <- u8 := 104
    │   │   │           ├── 7 <- u8 := 111
    │   │   │           ├── 8 <- u8 := 112
    │   │   │           ├── 9 <- u8 := 32
    │   │   │           ~
    │   │   │           └── 10597 <- u8 := 0
    │   │   ├── 1 <- _ |...| _ :=
    │   │   │   └── app1 <- { ... } :=
    │   │   │       ├── marker <- map _.1 (...) := 225
    │   │   │       ├── length <- u16be := 4429
    │   │   │       └── data <- slice (length - 2) { ... } :=
    │   │   │           ├── identifier <- map _.string { ... } :=
    │   │   │           │   ├── 0 <- [!= 0] := 104
    │   │   │           │   ├── 1 <- [!= 0] := 116
    │   │   │           │   ├── 2 <- [!= 0] := 116
    │   │   │           │   ├── 3 <- [!= 0] := 112
    │   │   │           │   ├── 4 <- [!= 0] := 58
    │   │   │           │   ├── 5 <- [!= 0] := 47
    │   │   │           │   ├── 6 <- [!= 0] := 47
    │   │   │           │   ├── 7 <- [!= 0] := 110
    │   │   │           │   ├── 8 <- [!= 0] := 115
    │   │   │           │   ├── 9 <- [!= 0] := 46
    │   │   │           │   ~
    │   │   │           │   └── 27 <- [!= 0] := 47
    │   │   │           └── data <- match identifier { ... } :=
    │   │   │               └── xmp <- repeat u8 :=
    │   │   │                   ├── 0 <- u8 := 60
    │   │   │                   ├── 1 <- u8 := 63
    │   │   │                   ├── 2 <- u8 := 120
    │   │   │                   ├── 3 <- u8 := 112
    │   │   │                   ├── 4 <- u8 := 97
    │   │   │                   ├── 5 <- u8 := 99
    │   │   │                   ├── 6 <- u8 := 107
    │   │   │                   ├── 7 <- u8 := 101
    │   │   │                   ├── 8 <- u8 := 116
    │   │   │                   ├── 9 <- u8 := 32
    │   │   │                   ~
    │   │   │                   └── 4397 <- u8 := 62
    │   │   ├── 2 <- _ |...| _ :=
    │   │   │   └── app2 <- { ... } :=
    │   │   │       ├── marker <- map _.1 (...) := 226
    │   │   │       ├── length <- u16be := 576
    │   │   │       └── data <- slice (length - 2) (repeat u8) :=
    │   │   │           ├── 0 <- u8 := 73
    │   │   │           ├── 1 <- u8 := 67
    │   │   │           ├── 2 <- u8 := 67
    │   │   │           ├── 3 <- u8 := 95
    │   │   │           ├── 4 <- u8 := 80
    │   │   │           ├── 5 <- u8 := 82
    │   │   │           ├── 6 <- u8 := 79
    │   │   │           ├── 7 <- u8 := 70
    │   │   │           ├── 8 <- u8 := 73
    │   │   │           ├── 9 <- u8 := 76
    │   │   │           ~
    │   │   │           └── 573 <- u8 := 156
    │   │   ├── 3 <- _ |...| _ :=
    │   │   │   └── app14 <- { ... } :=
    │   │   │       ├── marker <- map _.1 (...) := 238
    │   │   │       ├── length <- u16be := 14
    │   │   │       └── data <- slice (length - 2) (repeat u8) :=
    │   │   │           ├── 0 <- u8 := 65
    │   │   │           ├── 1 <- u8 := 100
    │   │   │           ├── 2 <- u8 := 111
    │   │   │           ├── 3 <- u8 := 98
    │   │   │           ├── 4 <- u8 := 101
    │   │   │           ├── 5 <- u8 := 0
    │   │   │           ├── 6 <- u8 := 100
    │   │   │           ├── 7 <- u8 := 64
    │   │   │           ├── 8 <- u8 := 0
    │   │   │           ├── 9 <- u8 := 0
    │   │   │           ~
    │   │   │           └── 11 <- u8 := 1
    │   │   └── 4 <- _ |...| _ :=
    │   │       └── dqt <- { ... } :=
    │   │           ├── marker <- map _.1 (...) := 219
    │   │           ├── length <- u16be := 132
    │   │           └── data <- slice (length - 2) { ... } :=
    │   │               ├── precision-table-id <- u8 := 0
    │   │               └── elements <- repeat u8 :=
    │   │                   ├── 0 <- u8 := 2
    │   │                   ├── 1 <- u8 := 2
    │   │                   ├── 2 <- u8 := 2
    │   │                   ├── 3 <- u8 := 2
    │   │                   ├── 4 <- u8 := 2
    │   │                   ├── 5 <- u8 := 2
    │   │                   ├── 6 <- u8 := 2
    │   │                   ├── 7 <- u8 := 2
    │   │                   ├── 8 <- u8 := 2
    │   │                   ├── 9 <- u8 := 2
    │   │                   ~
    │   │                   └── 128 <- u8 := 12
    │   ├── header <- _ |...| _ :=
    │   │   └── sof0 <- { ... } :=
    │   │       ├── marker <- map _.1 (...) := 192
    │   │       ├── length <- u16be := 17
    │   │       └── data <- slice (length - 2) { ... } :=
    │   │           ├── sample-precision <- u8 := 8
    │   │           ├── num-lines <- u16be := 709
    │   │           ├── num-samples-per-line <- u16be := 709
    │   │           ├── num-image-components <- u8 := 3
    │   │           └── image-components <- repeat-count num-image-components { ... } :=
    │   │               ├── 0 <- { ... } :=
    │   │               │   ├── id <- u8 := 1
    │   │               │   ├── sampling-factor <- u8 := 17
    │   │               │   └── quantization-table-id <- u8 := 0
    │   │               ├── 1 <- { ... } :=
    │   │               │   ├── id <- u8 := 2
    │   │               │   ├── sampling-factor <- u8 := 17
    │   │               │   └── quantization-table-id <- u8 := 1
    │   │               └── 2 <- { ... } :=
    │   │                   ├── id <- u8 := 3
    │   │                   ├── sampling-factor <- u8 := 17
    │   │                   └── quantization-table-id <- u8 := 1
    │   ├── scan <- { ... } :=
    │   │   ├── segments <- repeat (_ |...| _) :=
    │   │   │   ├── 0 <- _ |...| _ :=
    │   │   │   │   └── dri <- { ... } :=
    │   │   │   │       ├── marker <- map _.1 (...) := 221
    │   │   │   │       ├── length <- u16be := 4
    │   │   │   │       └── data <- slice (length - 2) { ... } :=
    │   │   │   │           └── restart-interval <- u16be := 89
    │   │   │   └── 1 <- _ |...| _ :=
    │   │   │       └── dht <- { ... } :=
    │   │   │           ├── marker <- map _.1 (...) := 196
    │   │   │           ├── length <- u16be := 418
    │   │   │           └── data <- slice (length - 2) { ... } :=
    │   │   │               ├── class-table-id <- u8 := 0
    │   │   │               ├── num-codes <- repeat-count 16 u8 :=
    │   │   │               │   ├── 0 <- u8 := 0
    │   │   │               │   ├── 1 <- u8 := 0
    │   │   │               │   ├── 2 <- u8 := 7
    │   │   │               │   ├── 3 <- u8 := 1
    │   │   │               │   ├── 4 <- u8 := 1
    │   │   │               │   ├── 5 <- u8 := 1
    │   │   │               │   ├── 6 <- u8 := 1
    │   │   │               │   ├── 7 <- u8 := 1
    │   │   │               │   ├── 8 <- u8 := 0
    │   │   │               │   ├── 9 <- u8 := 0
    │   │   │               │   ~
    │   │   │               │   └── 15 <- u8 := 0
    │   │   │               └── values <- repeat u8 :=
    │   │   │                   ├── 0 <- u8 := 4
    │   │   │                   ├── 1 <- u8 := 5
    │   │   │                   ├── 2 <- u8 := 3
    │   │   │                   ├── 3 <- u8 := 2
    │   │   │                   ├── 4 <- u8 := 6
    │   │   │                   ├── 5 <- u8 := 1
    │   │   │                   ├── 6 <- u8 := 0
    │   │   │                   ├── 7 <- u8 := 7
    │   │   │                   ├── 8 <- u8 := 8
    │   │   │                   ├── 9 <- u8 := 9
    │   │   │                   ~
    │   │   │                   └── 398 <- u8 := 250
    │   │   ├── sos <- { ... } :=
    │   │   │   ├── marker <- map _.1 (...) := 218
    │   │   │   ├── length <- u16be := 12
    │   │   │   └── data <- slice (length - 2) { ... } :=
    │   │   │       ├── num-image-components <- u8 := 3
    │   │   │       ├── image-components <- repeat-count num-image-components { ... } :=
    │   │   │       │   ├── 0 <- { ... } :=
    │   │   │       │   │   ├── component-selector <- u8 := 1
    │   │   │       │   │   └── entropy-coding-table-ids <- u8 := 0
    │   │   │       │   ├── 1 <- { ... } :=
    │   │   │       │   │   ├── component-selector <- u8 := 2
    │   │   │       │   │   └── entropy-coding-table-ids <- u8 := 17
    │   │   │       │   └── 2 <- { ... } :=
    │   │   │       │       ├── component-selector <- u8 := 3
    │   │   │       │       └── entropy-coding-table-ids <- u8 := 17
    │   │   │       ├── start-spectral-selection <- u8 := 0
    │   │   │       ├── end-spectral-selection <- u8 := 63
    │   │   │       └── approximation-bit-position <- u8 := 0
    │   │   └── data <- map stream (repeat (map (fun x => match x { ... }) (_ |...| _))) :=
    │   │       ├── 0 := 248
    │   │       ├── 1 := 204
    │   │       ├── 2 := 64
    │   │       ├── 3 := 237
    │   │       ├── 4 := 185
    │   │       ├── 5 := 29
    │   │       ├── 6 := 72
    │   │       ├── 7 := 223
    │   │       ├── 8 := 62
    │   │       ├── 9 := 221
    │   │       ~
    │   │       └── 80404 := 95
    │   ├── dnl <- _ |...| _ := { none := () }
    │   └── scans <- repeat { ... } := []
    └── eoi <- map _.1 (...) := 217
